# SonarQube Configuration for Editor de Produtos Personalizados Backend

# Project identification
sonar.projectKey=editor-produtos-backend
sonar.projectName=Editor de Produtos Personalizados - Backend
sonar.projectVersion=1.0.0
sonar.projectDescription=Backend do sistema de editor online de produtos personalizados

# Source code configuration
sonar.sources=src
sonar.tests=src,test
sonar.test.inclusions=**/*.spec.ts,**/*.test.ts,**/*.integration.spec.ts
sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/coverage-integration/**,**/*.js,**/*.d.ts

# Language configuration
sonar.typescript.node=node
sonar.typescript.lcov.reportPaths=coverage/lcov.info,coverage-integration/lcov.info

# Code coverage
sonar.coverage.exclusions=**/*.spec.ts,**/*.test.ts,**/*.integration.spec.ts,**/main.ts,**/*.module.ts,**/migrations/**

# Duplication detection
sonar.cpd.exclusions=**/*.spec.ts,**/*.test.ts,**/*.integration.spec.ts

# Analysis parameters
sonar.sourceEncoding=UTF-8
sonar.scm.provider=git

# Quality gate configuration
sonar.qualitygate.wait=true

# Issue exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Exclude magic numbers in configuration files
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S109
sonar.issue.ignore.multicriteria.e1.resourceKey=**/config/**

# Exclude cognitive complexity in test files
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.spec.ts

# Exclude file length in module files
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S104
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.module.ts

# Exclude parameter count in constructors (DI)
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S107
sonar.issue.ignore.multicriteria.e4.resourceKey=**/**.ts

# Security hotspots
sonar.security.hotspots.inheritFromParent=true

# Custom rules
sonar.typescript.tsconfigPath=tsconfig.json